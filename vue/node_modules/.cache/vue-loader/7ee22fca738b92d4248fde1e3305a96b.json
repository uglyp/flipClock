{"remainingRequest":"D:\\翻牌时钟\\flipClock\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\翻牌时钟\\flipClock\\vue\\src\\components\\FlipClock.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\翻牌时钟\\flipClock\\vue\\src\\components\\FlipClock.vue","mtime":1574816908075},{"path":"D:\\翻牌时钟\\flipClock\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\翻牌时钟\\flipClock\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\翻牌时钟\\flipClock\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\翻牌时钟\\flipClock\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBGbGlwcGVyIGZyb20gJy4vRmxpcHBlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRmxpcENsb2NrJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZXI6IG51bGwsCiAgICAgIGZsaXBPYmpzOiBbXQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgRmxpcHBlcgogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyW5pWw5a2XCiAgICBpbml0KCkgewogICAgICBsZXQgbm93ID0gbmV3IERhdGUoKQogICAgICBsZXQgbm93VGltZVN0ciA9IHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShub3cuZ2V0VGltZSgpKSwgJ2hoaWlzcycpCiAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmxpcE9ianMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgdGhpcy5mbGlwT2Jqc1tpXS5zZXRGcm9udChub3dUaW1lU3RyW2ldKQogICAgICAgfQogICAgfSwKICAgIC8vIOW8gOWni+iuoeaXtgogICAgcnVuKCkgewogICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICAgIC8vIOiOt+WPluW9k+WJjeaXtumXtAogICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpCiAgICAgICAgbGV0IG5vd1RpbWVTdHIgPSB0aGlzLmZvcm1hdERhdGUobmV3IERhdGUobm93LmdldFRpbWUoKSAtIDEwMDApLCAnaGhpaXNzJykKICAgICAgICBsZXQgbmV4dFRpbWVTdHIgPSB0aGlzLmZvcm1hdERhdGUobm93LCAnaGhpaXNzJykKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmxpcE9ianMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIGlmIChub3dUaW1lU3RyW2ldID09PSBuZXh0VGltZVN0cltpXSkgewogICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgfQogICAgICAgICAgdGhpcy5mbGlwT2Jqc1tpXS5mbGlwRG93bigKICAgICAgICAgICAgbm93VGltZVN0cltpXSwKICAgICAgICAgICAgbmV4dFRpbWVTdHJbaV0KICAgICAgICAgICkKICAgICAgICB9CiAgICAgIH0sIDEwMDApCiAgICB9LAogICAgLy8g5q2j5YiZ5qC85byP5YyW5pel5pyfCiAgICBmb3JtYXREYXRlKGRhdGUsIGRhdGVGb3JtYXQpIHsKICAgICAgLyog5Y2V54us5qC85byP5YyW5bm05Lu977yM5qC55o2ueeeahOWtl+espuaVsOmHj+i+k+WHuuW5tOS7vQogICAgICog5L6L5aaC77yaeXl5eSA9PiAyMDE5CiAgICAgICAgICAgIHl5ID0+IDE5CiAgICAgICAgICAgIHkgPT4gOQogICAgICovCiAgICAgIGlmICgvKHkrKS8udGVzdChkYXRlRm9ybWF0KSkgewogICAgICAgIGRhdGVGb3JtYXQgPSBkYXRlRm9ybWF0LnJlcGxhY2UoCiAgICAgICAgICBSZWdFeHAuJDEsCiAgICAgICAgICAoZGF0ZS5nZXRGdWxsWWVhcigpICsgJycpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkKICAgICAgICApCiAgICAgIH0KICAgICAgLy8g5qC85byP5YyW5pyI44CB5pel44CB5pe244CB5YiG44CB56eSCiAgICAgIGxldCBvID0gewogICAgICAgICdtKyc6IGRhdGUuZ2V0TW9udGgoKSArIDEsCiAgICAgICAgJ2QrJzogZGF0ZS5nZXREYXRlKCksCiAgICAgICAgJ2grJzogZGF0ZS5nZXRIb3VycygpLAogICAgICAgICdpKyc6IGRhdGUuZ2V0TWludXRlcygpLAogICAgICAgICdzKyc6IGRhdGUuZ2V0U2Vjb25kcygpCiAgICAgIH0KICAgICAgZm9yIChsZXQgayBpbiBvKSB7CiAgICAgICAgaWYgKG5ldyBSZWdFeHAoYCgke2t9KWApLnRlc3QoZGF0ZUZvcm1hdCkpIHsKICAgICAgICAgIC8vIOWPluWHuuWvueW6lOeahOWAvAogICAgICAgICAgbGV0IHN0ciA9IG9ba10gKyAnJwogICAgICAgICAgLyog5qC55o2u6K6+572u55qE5qC85byP77yM6L6T5Ye65a+55bqU55qE5a2X56ymCiAgICAgICAgICAgKiDkvovlpoI6IOaXqeS4ijjml7bvvIxoaCA9PiAwOO+8jGggPT4gOAogICAgICAgICAgICog5L2G5piv77yM5b2T5pWw5a2XPj0xMOaXtu+8jOaXoOiuuuagvOW8j+S4uuS4gOS9jei/mOaYr+WkmuS9je+8jOS4jeWBmuaIquWPlu+8jOi/meaYr+S4juW5tOS7veagvOW8j+WMluS4jeS4gOiHtOeahOWcsOaWuQogICAgICAgICAgICog5L6L5aaCOiDkuIvljYgxNeaXtu+8jGhoID0+IDE1LCBoID0+IDE1CiAgICAgICAgICAgKi8KICAgICAgICAgIGRhdGVGb3JtYXQgPSBkYXRlRm9ybWF0LnJlcGxhY2UoCiAgICAgICAgICAgIFJlZ0V4cC4kMSwKICAgICAgICAgICAgUmVnRXhwLiQxLmxlbmd0aCA9PT0gMSA/IHN0ciA6IHRoaXMucGFkTGVmdFplcm8oc3RyKQogICAgICAgICAgKQogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gZGF0ZUZvcm1hdAogICAgfSwKICAgIC8vIOaXpeacn+aXtumXtOihpembtgogICAgcGFkTGVmdFplcm8oc3RyKSB7CiAgICAgIHJldHVybiAoJzAwJyArIHN0cikuc3Vic3RyKHN0ci5sZW5ndGgpCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5mbGlwT2JqcyA9IFsKICAgICAgdGhpcy4kcmVmcy5mbGlwcGVySG91cjEsCiAgICAgIHRoaXMuJHJlZnMuZmxpcHBlckhvdXIyLAogICAgICB0aGlzLiRyZWZzLmZsaXBwZXJNaW51dGUxLAogICAgICB0aGlzLiRyZWZzLmZsaXBwZXJNaW51dGUyLAogICAgICB0aGlzLiRyZWZzLmZsaXBwZXJTZWNvbmQxLAogICAgICB0aGlzLiRyZWZzLmZsaXBwZXJTZWNvbmQyCiAgICBdCiAgICB0aGlzLmluaXQoKQogICAgdGhpcy5ydW4oKQogIH0KfQo="},{"version":3,"sources":["FlipClock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FlipClock.vue","sourceRoot":"src/components","sourcesContent":["/*\n * 翻牌时钟\n * @author： 兔子先生\n * @createDate: 2019-11-24\n */\n<template>\n  <div class=\"FlipClock\">\n    <Flipper ref=\"flipperHour1\" />\n    <Flipper ref=\"flipperHour2\" />\n    <em>:</em>\n    <Flipper ref=\"flipperMinute1\" />\n    <Flipper ref=\"flipperMinute2\" />\n    <em>:</em>\n    <Flipper ref=\"flipperSecond1\" />\n    <Flipper ref=\"flipperSecond2\" />\n  </div>\n</template>\n\n<script>\nimport Flipper from './Flipper'\n\nexport default {\n  name: 'FlipClock',\n  data() {\n    return {\n      timer: null,\n      flipObjs: []\n    }\n  },\n  components: {\n    Flipper\n  },\n  methods: {\n    // 初始化数字\n    init() {\n      let now = new Date()\n      let nowTimeStr = this.formatDate(new Date(now.getTime()), 'hhiiss')\n       for (let i = 0; i < this.flipObjs.length; i++) {\n         this.flipObjs[i].setFront(nowTimeStr[i])\n       }\n    },\n    // 开始计时\n    run() {\n      this.timer = setInterval(() => {\n        // 获取当前时间\n        let now = new Date()\n        let nowTimeStr = this.formatDate(new Date(now.getTime() - 1000), 'hhiiss')\n        let nextTimeStr = this.formatDate(now, 'hhiiss')\n        for (let i = 0; i < this.flipObjs.length; i++) {\n          if (nowTimeStr[i] === nextTimeStr[i]) {\n            continue\n          }\n          this.flipObjs[i].flipDown(\n            nowTimeStr[i],\n            nextTimeStr[i]\n          )\n        }\n      }, 1000)\n    },\n    // 正则格式化日期\n    formatDate(date, dateFormat) {\n      /* 单独格式化年份，根据y的字符数量输出年份\n     * 例如：yyyy => 2019\n            yy => 19\n            y => 9\n     */\n      if (/(y+)/.test(dateFormat)) {\n        dateFormat = dateFormat.replace(\n          RegExp.$1,\n          (date.getFullYear() + '').substr(4 - RegExp.$1.length)\n        )\n      }\n      // 格式化月、日、时、分、秒\n      let o = {\n        'm+': date.getMonth() + 1,\n        'd+': date.getDate(),\n        'h+': date.getHours(),\n        'i+': date.getMinutes(),\n        's+': date.getSeconds()\n      }\n      for (let k in o) {\n        if (new RegExp(`(${k})`).test(dateFormat)) {\n          // 取出对应的值\n          let str = o[k] + ''\n          /* 根据设置的格式，输出对应的字符\n           * 例如: 早上8时，hh => 08，h => 8\n           * 但是，当数字>=10时，无论格式为一位还是多位，不做截取，这是与年份格式化不一致的地方\n           * 例如: 下午15时，hh => 15, h => 15\n           */\n          dateFormat = dateFormat.replace(\n            RegExp.$1,\n            RegExp.$1.length === 1 ? str : this.padLeftZero(str)\n          )\n        }\n      }\n      return dateFormat\n    },\n    // 日期时间补零\n    padLeftZero(str) {\n      return ('00' + str).substr(str.length)\n    }\n  },\n  mounted() {\n    this.flipObjs = [\n      this.$refs.flipperHour1,\n      this.$refs.flipperHour2,\n      this.$refs.flipperMinute1,\n      this.$refs.flipperMinute2,\n      this.$refs.flipperSecond1,\n      this.$refs.flipperSecond2\n    ]\n    this.init()\n    this.run()\n  }\n}\n</script>\n\n<style>\n.FlipClock {\n    text-align: center;\n}\n.FlipClock .M-Flipper {\n    margin: 0 3px;\n}\n.FlipClock em {\n    display: inline-block;\n    line-height: 102px;\n    font-size: 66px;\n    font-style: normal;\n    vertical-align: top;\n}\n</style>\n"]}]}